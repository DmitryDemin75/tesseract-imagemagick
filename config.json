{
  "name": "Tesseract and ImageMagick Seven segments displays OCR",
  "version": "0.2.3",
  "slug": "tesseract_imagemagick",
  "description": "Tesseract and ImageMagick for Seven segments displays OCR",
  "arch": ["armv7", "armhf", "aarch64", "amd64", "i386"],
  "startup": "services",
  "boot": "auto",
  "map": ["share:rw"],
  "options": {
    "debug": true,

    "camera_url": "http://192.168.8.195/cgi-bin/CGIProxy.fcgi?cmd=snapPicture2&usr=admin&pwd=t1010113",

    "code_crop": "64x23+576+361",
    "value_crop": "138x30+670+353",
    "dx": 0,
    "dy": 0,
    "pady_code": 2,
    "pady_value": 3,

    "mqtt_host": "192.168.8.20",
    "mqtt_user": "mqtt",
    "mqtt_password": "mqtt",
    "mqtt_topic_1_8_0": "homeassistant/sensor/energy_meter/1_8_0/state",
    "mqtt_topic_2_8_0": "homeassistant/sensor/energy_meter/2_8_0/state",
    "mqtt_discovery_topic_1": "homeassistant/sensor/energy_meter_1_8_0/config",
    "mqtt_discovery_topic_2": "homeassistant/sensor/energy_meter_2_8_0/config",

    "sleep_interval": 1,
    "extra_pause_after_2_8_0": 108,

    "value_decimals": 3,
    "daily_max_kwh_1_8_0": 200,
    "daily_max_kwh_2_8_0": 50,
    "burst_mult": 2.0,
    "min_step_units": 1,
    "max_gap_days_cap": 3,

    "stable_hits": 2,
    "stable_hits_cold": 3,
    "pending_ttl_sec": 60,

    "code_strict": true,
    "code_gate_enabled": false,
    "code_stable_hits": 2,
    "code_pending_ttl_sec": 5,

    "code_burst_tries": 3,
    "code_burst_delay_s": 0.15,

    "tess_lang": "ssd_int",
    "state_dir": "/data/state",

    "calibrate_dump": false,
    "dump_dir": "/share/ocr-debug",

    "log_to_file": true,
    "log_file": "/data/ha_meter.log",
    "log_truncate_on_start": true
  },
  "schema": {
    "debug": "bool",

    "camera_url": "str",

    "code_crop": "str",
    "value_crop": "str",
    "dx": "int",
    "dy": "int",
    "pady_code": "int",
    "pady_value": "int",

    "mqtt_host": "str",
    "mqtt_user": "str",
    "mqtt_password": "str",
    "mqtt_topic_1_8_0": "str",
    "mqtt_topic_2_8_0": "str",
    "mqtt_discovery_topic_1": "str",
    "mqtt_discovery_topic_2": "str",

    "sleep_interval": "int",
    "extra_pause_after_2_8_0": "int",

    "value_decimals": "int",
    "daily_max_kwh_1_8_0": "int",
    "daily_max_kwh_2_8_0": "int",
    "burst_mult": "float",
    "min_step_units": "int",
    "max_gap_days_cap": "int",

    "stable_hits": "int",
    "stable_hits_cold": "int",
    "pending_ttl_sec": "int",

    "code_strict": "bool",
    "code_gate_enabled": "bool",
    "code_stable_hits": "int",
    "code_pending_ttl_sec": "int",

    "code_burst_tries": "int",
    "code_burst_delay_s": "float",

    "tess_lang": "str",
    "state_dir": "str",

    "calibrate_dump": "bool",
    "dump_dir": "str",

    "log_to_file": "bool",
    "log_file": "str",
    "log_truncate_on_start": "bool"
  }
}
